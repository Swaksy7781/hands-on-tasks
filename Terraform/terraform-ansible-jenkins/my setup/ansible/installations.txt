Install Java, Maven, Jenkins on Ubuntu EC2

Step 1: Update System
sudo apt update && sudo apt upgrade -y

Step 2: Install Java (Required by Jenkins)
sudo apt install openjdk-17-jdk -y
java -version


Install Maven: verify java version, then run commands for maven
sudo apt install maven -y
mvn -v

Step 3: Add Jenkins Repository & Install
sudo wget -O /etc/apt/keyrings/jenkins-keyring.asc \
  https://pkg.jenkins.io/debian/jenkins.io-2023.key
echo "deb [signed-by=/etc/apt/keyrings/jenkins-keyring.asc]" \
  https://pkg.jenkins.io/debian binary/ | sudo tee \
  /etc/apt/sources.list.d/jenkins.list > /dev/null
sudo apt-get update
sudo apt-get install jenkins

Step 4: Start & Enable Jenkins
sudo systemctl enable jenkins
sudo systemctl start jenkins
sudo systemctl status jenkins

Step 5: Access Jenkins
Open browser: http://<EC2-Public-IP>:8080
Get initial admin password:
sudo cat /var/lib/jenkins/secrets/initialAdminPassword
Follow on-screen setup wizard.


Install SonarQube on Ubuntu EC2 (Docker Method)

Step 1: Install Docker
sudo apt update && sudo apt upgrade -y

sudo apt install docker.io -y
docker --version
sudo systemctl enable docker
sudo systemctl start docker

Step 2: Run SonarQube Container
sudo docker run -d --name sonarqube \
  -p 9000:9000 \
  -e SONAR_ES_BOOTSTRAP_CHECKS_DISABLE=true \
  sonarqube:9.9-community

Step 3: Check Logs
sudo docker logs -f sonarqube
Wait until "SonarQube is up" appears.

Step 4: Access SonarQube
Open browser: http://<EC2-Public-IP>:9000
Login:
Username: admin
Password: admin
Change password on first login.
4. Notes
Always use t2.medium or larger for SonarQube to avoid memory errors.


Install Terraform:

#Ensure that your system is up to date and that you have installed the gnupg and software-properties-common packages.
sudo apt-get update && sudo apt-get install -y gnupg software-properties-common

#Install HashiCorp's GPG key.
wget -O- https://apt.releases.hashicorp.com/gpg | \
gpg --dearmor | \
sudo tee /usr/share/keyrings/hashicorp-archive-keyring.gpg > /dev/null

#verify key
gpg --no-default-keyring \
--keyring /usr/share/keyrings/hashicorp-archive-keyring.gpg \
--fingerprint

#Add the official HashiCorp repository to your system.
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(grep -oP '(?<=UBUNTU_CODENAME=).*' /etc/os-release || lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/hashicorp.list

sudo apt update

#Install Terraform from the new repository.
sudo apt-get install terraform
terraform --version


Jenkins plugins:
git
stage
graph
SonarQube
maven
sshagent

Jenkins tools:
git - enable csrf for automatic git pull, add http://ec2-ip-address:8080/webhook in project repo settings
Maven tool for maven cmds

Jenkins credentials:
GitHub (username and password)
SonarQube (secret text)
ec2 ka key (ssh key pair)